<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VA-API: H.264 encoding API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">VA-API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>H.264 encoding API</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVAEncSequenceParameterBufferH264.html">VAEncSequenceParameterBufferH264</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sequence parameter for H.264 encoding in main &amp; high profiles.  <a href="structVAEncSequenceParameterBufferH264.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVAEncPictureParameterBufferH264.html">VAEncPictureParameterBufferH264</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Picture parameter for H.264 encoding in main &amp; high profiles.  <a href="structVAEncPictureParameterBufferH264.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVAEncSliceParameterBufferH264.html">VAEncSliceParameterBufferH264</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Slice parameter for H.264 encoding in main &amp; high profiles.  <a href="structVAEncSliceParameterBufferH264.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVAEncMacroblockParameterBufferH264.html">VAEncMacroblockParameterBufferH264</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Macroblock parameter for H.264 encoding in main &amp; high profiles.  <a href="structVAEncMacroblockParameterBufferH264.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#ga9cf3cb8a709849fd74f1993382dbc4a0">VAEncPackedHeaderTypeH264</a> { <br/>
&#160;&#160;<a class="el" href="group__api__enc__h264.html#gga9cf3cb8a709849fd74f1993382dbc4a0a03818a80cfed909983ea8cf3238645d1">VAEncPackedHeaderH264_SPS</a> =  VAEncPackedHeaderSequence, 
<br/>
&#160;&#160;<a class="el" href="group__api__enc__h264.html#gga9cf3cb8a709849fd74f1993382dbc4a0a878ffc2a39adce02ab47d38c45bf362f">VAEncPackedHeaderH264_PPS</a> =  VAEncPackedHeaderPicture, 
<br/>
&#160;&#160;<a class="el" href="group__api__enc__h264.html#gga9cf3cb8a709849fd74f1993382dbc4a0a0c4ced3030342ca31d034644cfff7569">VAEncPackedHeaderH264_Slice</a> =  VAEncPackedHeaderSlice, 
<br/>
&#160;&#160;<a class="el" href="group__api__enc__h264.html#gga9cf3cb8a709849fd74f1993382dbc4a0aae4e2f42fc6a02da9730475da4cc4710">VAEncPackedHeaderH264_SEI</a> =  (VAEncPackedHeaderMiscMask | 1)
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Packed header types specific to H.264 encoding. </p>
 <a href="group__api__enc__h264.html#ga9cf3cb8a709849fd74f1993382dbc4a0">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#gaee462642944083d06b779c4f43122548">VAEncBitstreamAttribTypeH264</a> { <a class="el" href="group__api__enc__h264.html#ggaee462642944083d06b779c4f43122548adb5e94c68bdaeac618ef4348f30199ce">VAEncBitstreamAttribEmulationPreventionH264</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Bitstream writer attribute types specific to H.264 encoding. </p>
 <a href="group__api__enc__h264.html#gaee462642944083d06b779c4f43122548">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3">VAEncBitstream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#ga149d1d9d3163791dd803aa93b1144de3">va_enc_bitstream_h264_new</a> (<a class="el" href="structVAEncBitstreamAttrib.html">VAEncBitstreamAttrib</a> *attribs, unsigned int num_attribs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a new H.264 bitstream writer.  <a href="#ga149d1d9d3163791dd803aa93b1144de3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#ga77f1aec9a3a7b31fcccc3de906b46465">va_enc_bitstream_h264_destroy</a> (<a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3">VAEncBitstream</a> *bs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an H.264 bitstream writer.  <a href="#ga77f1aec9a3a7b31fcccc3de906b46465"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#gaa62d028da2ab45d01d4c593762eed674">va_enc_bitstream_h264_write_ue</a> (<a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3">VAEncBitstream</a> *bs, unsigned int value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an unsigned integer as <code>ue(v)</code>.  <a href="#gaa62d028da2ab45d01d4c593762eed674"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#gad081fa94c3689e622005faa10dea41a8">va_enc_bitstream_h264_write_se</a> (<a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3">VAEncBitstream</a> *bs, int value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a signed integer as <code>se(v)</code>.  <a href="#gad081fa94c3689e622005faa10dea41a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#ga27cad07b23400082eb06eb05b756618c">va_enc_bitstream_h264_write_trailing_bits</a> (<a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3">VAEncBitstream</a> *bs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to write trailing bits into the bitstream.  <a href="#ga27cad07b23400082eb06eb05b756618c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Picture flags</h2></td></tr>
<tr><td colspan="2"><a class="anchor" id="amgrpb383b258d1a87779155d9292630680c7"></a> Those flags flags are meant to signal when a picture marks the end of a sequence, a stream, or even both at once. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#gaea79b28e489a57a0202bada8f50f0886">H264_LAST_PICTURE_EOSEQ</a>&#160;&#160;&#160;0x01</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the last picture in the sequence.  <a href="#gaea79b28e489a57a0202bada8f50f0886"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#ga6995267dffd438e4cce680c98d10286f">H264_LAST_PICTURE_EOSTREAM</a>&#160;&#160;&#160;0x02</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the last picture in the stream.  <a href="#ga6995267dffd438e4cce680c98d10286f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Macroblock neighbour availability bits</h2></td></tr>
<tr><td colspan="2"><a class="anchor" id="amgrp599edbee58518002374473cb9260383b"></a> <a class="anchor" id="api_enc_h264_mb_pred_avail_bits"></a> Definitions for macroblock neighbour availability bits used in intra prediction mode (non MBAFF only). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf9f5f91e658bde6c3f9abb3b0fe39125"></a><!-- doxytag: member="api_enc_h264::VA_MB_PRED_AVAIL_TOP_LEFT" ref="gaf9f5f91e658bde6c3f9abb3b0fe39125" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#gaf9f5f91e658bde6c3f9abb3b0fe39125">VA_MB_PRED_AVAIL_TOP_LEFT</a>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">References macroblock in the top-left corner. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga147e8575387396de9ee9df45a6264772"></a><!-- doxytag: member="api_enc_h264::VA_MB_PRED_AVAIL_TOP" ref="ga147e8575387396de9ee9df45a6264772" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#ga147e8575387396de9ee9df45a6264772">VA_MB_PRED_AVAIL_TOP</a>&#160;&#160;&#160;(1 &lt;&lt; 4)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">References macroblock above the current macroblock. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf03073fdf6eacc5cfa1a5ed7d9a55ca5"></a><!-- doxytag: member="api_enc_h264::VA_MB_PRED_AVAIL_TOP_RIGHT" ref="gaf03073fdf6eacc5cfa1a5ed7d9a55ca5" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#gaf03073fdf6eacc5cfa1a5ed7d9a55ca5">VA_MB_PRED_AVAIL_TOP_RIGHT</a>&#160;&#160;&#160;(1 &lt;&lt; 3)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">References macroblock in the top-right corner. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0b7d7f38ac1007370e62a62ba644ab36"></a><!-- doxytag: member="api_enc_h264::VA_MB_PRED_AVAIL_LEFT" ref="ga0b7d7f38ac1007370e62a62ba644ab36" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__enc__h264.html#ga0b7d7f38ac1007370e62a62ba644ab36">VA_MB_PRED_AVAIL_LEFT</a>&#160;&#160;&#160;(1 &lt;&lt; 6)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">References macroblock on the left of the current macroblock. <br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gaea79b28e489a57a0202bada8f50f0886"></a><!-- doxytag: member="va_enc_h264.h::H264_LAST_PICTURE_EOSEQ" ref="gaea79b28e489a57a0202bada8f50f0886" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H264_LAST_PICTURE_EOSEQ&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Marks the last picture in the sequence. </p>
<p>i.e. the driver appends <code>end_of_seq()</code> NAL unit to the encoded frame. </p>

</div>
</div>
<a class="anchor" id="ga6995267dffd438e4cce680c98d10286f"></a><!-- doxytag: member="va_enc_h264.h::H264_LAST_PICTURE_EOSTREAM" ref="ga6995267dffd438e4cce680c98d10286f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H264_LAST_PICTURE_EOSTREAM&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Marks the last picture in the stream. </p>
<p>i.e. the driver appends <code>end_of_stream()</code> NAL unit to the encoded frame. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gaee462642944083d06b779c4f43122548"></a><!-- doxytag: member="va_enc_h264.h::VAEncBitstreamAttribTypeH264" ref="gaee462642944083d06b779c4f43122548" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__api__enc__h264.html#gaee462642944083d06b779c4f43122548">VAEncBitstreamAttribTypeH264</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bitstream writer attribute types specific to H.264 encoding. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaee462642944083d06b779c4f43122548adb5e94c68bdaeac618ef4348f30199ce"></a><!-- doxytag: member="VAEncBitstreamAttribEmulationPreventionH264" ref="ggaee462642944083d06b779c4f43122548adb5e94c68bdaeac618ef4348f30199ce" args="" -->VAEncBitstreamAttribEmulationPreventionH264</em>&nbsp;</td><td>
<p>Flag: specifies whether to insert emulation prevention bytes (integer). </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9cf3cb8a709849fd74f1993382dbc4a0"></a><!-- doxytag: member="va_enc_h264.h::VAEncPackedHeaderTypeH264" ref="ga9cf3cb8a709849fd74f1993382dbc4a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__api__enc__h264.html#ga9cf3cb8a709849fd74f1993382dbc4a0">VAEncPackedHeaderTypeH264</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Packed header types specific to H.264 encoding. </p>
<p>Types of packed headers generally used for H.264 encoding. Each associated packed header data buffer shall contain the start code prefix 0x000001 followed by the complete NAL unit, thus also including the <code>nal_unit_type</code>.</p>
<p>Note: the start code prefix can contain an arbitrary number of leading zeros. The driver will skip them for emulation prevention bytes insertion, if necessary. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga9cf3cb8a709849fd74f1993382dbc4a0a03818a80cfed909983ea8cf3238645d1"></a><!-- doxytag: member="VAEncPackedHeaderH264_SPS" ref="gga9cf3cb8a709849fd74f1993382dbc4a0a03818a80cfed909983ea8cf3238645d1" args="" -->VAEncPackedHeaderH264_SPS</em>&nbsp;</td><td>
<p>Packed Sequence Parameter Set (SPS). </p>
<p>The corresponding packed header data buffer shall contain the complete seq_parameter_set_rbsp() syntax element.</p>
<p>Note: packed <code>nal_unit_type</code> shall be equal to 7. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9cf3cb8a709849fd74f1993382dbc4a0a878ffc2a39adce02ab47d38c45bf362f"></a><!-- doxytag: member="VAEncPackedHeaderH264_PPS" ref="gga9cf3cb8a709849fd74f1993382dbc4a0a878ffc2a39adce02ab47d38c45bf362f" args="" -->VAEncPackedHeaderH264_PPS</em>&nbsp;</td><td>
<p>Packed Picture Parameter Set (PPS). </p>
<p>The corresponding packed header data buffer shall contain the complete pic_parameter_set_rbsp() syntax element.</p>
<p>Note: packed <code>nal_unit_type</code> shall be equal to 8. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9cf3cb8a709849fd74f1993382dbc4a0a0c4ced3030342ca31d034644cfff7569"></a><!-- doxytag: member="VAEncPackedHeaderH264_Slice" ref="gga9cf3cb8a709849fd74f1993382dbc4a0a0c4ced3030342ca31d034644cfff7569" args="" -->VAEncPackedHeaderH264_Slice</em>&nbsp;</td><td>
<p>Packed slice header. </p>
<p>The corresponding packed header data buffer shall contain the <code>slice_header()</code> syntax element only, along with any start code prefix and NAL unit type preceeding it. i.e. this means that the buffer does not contain any of the <code>slice_data()</code> or the <code>rbsp_slice_trailing_bits()</code>.</p>
<p>Note: packed <code>nal_unit_type</code> shall be equal to 1 (non-IDR picture), or 5 (IDR picture). </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9cf3cb8a709849fd74f1993382dbc4a0aae4e2f42fc6a02da9730475da4cc4710"></a><!-- doxytag: member="VAEncPackedHeaderH264_SEI" ref="gga9cf3cb8a709849fd74f1993382dbc4a0aae4e2f42fc6a02da9730475da4cc4710" args="" -->VAEncPackedHeaderH264_SEI</em>&nbsp;</td><td>
<p>Packed Supplemental Enhancement Information (SEI). </p>
<p>The corresponding packed header data buffer shall contain the complete sei_rbsp() syntax element, thus including several sei_message() elements if necessary.</p>
<p>Note: packed <code>nal_unit_type</code> shall be equal to 6. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga77f1aec9a3a7b31fcccc3de906b46465"></a><!-- doxytag: member="va_enc_h264.h::va_enc_bitstream_h264_destroy" ref="ga77f1aec9a3a7b31fcccc3de906b46465" args="(VAEncBitstream *bs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void va_enc_bitstream_h264_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3">VAEncBitstream</a> *&#160;</td>
          <td class="paramname"><em>bs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroys an H.264 bitstream writer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bs</td><td>the bitstream writer to destroy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga149d1d9d3163791dd803aa93b1144de3"></a><!-- doxytag: member="va_enc_h264.h::va_enc_bitstream_h264_new" ref="ga149d1d9d3163791dd803aa93b1144de3" args="(VAEncBitstreamAttrib *attribs, unsigned int num_attribs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3">VAEncBitstream</a>* va_enc_bitstream_h264_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVAEncBitstreamAttrib.html">VAEncBitstreamAttrib</a> *&#160;</td>
          <td class="paramname"><em>attribs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_attribs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocates a new H.264 bitstream writer. </p>
<p>Allocates a new bitstream writer. By default, libva allocates and maintains its own buffer. However, the user can pass down his own buffer with the <code>VAEncBitstreamAttribBuffer</code> attribute, along with the size of that buffer with the <code>VAEncBitstreamAttribBufferSize</code> attribute.</p>
<p>By default, emulation prevention bytes are not inserted. However, the user can still request emulation prevention by setting the <code>VAEncBitstreamAttribEmulationPreventionH264</code> attribute to 1.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attribs</td><td>the optional attributes, or NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_attribs</td><td>the number of attributes available in <code>attribs</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a new <a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3" title="Abstract representation of a bitstream writer.">VAEncBitstream</a>, or NULL if an error occurred </dd></dl>

</div>
</div>
<a class="anchor" id="gad081fa94c3689e622005faa10dea41a8"></a><!-- doxytag: member="va_enc_h264.h::va_enc_bitstream_h264_write_se" ref="gad081fa94c3689e622005faa10dea41a8" args="(VAEncBitstream *bs, int value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int va_enc_bitstream_h264_write_se </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3">VAEncBitstream</a> *&#160;</td>
          <td class="paramname"><em>bs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes a signed integer as <code>se(v)</code>. </p>
<p>Writes a 32-bit signed int value by following <code>se(v)</code> from the H.264 specification.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bs</td><td>the bitstream writer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>the signed int value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bits written, or a negative value to indicate an error </dd></dl>

</div>
</div>
<a class="anchor" id="ga27cad07b23400082eb06eb05b756618c"></a><!-- doxytag: member="va_enc_h264.h::va_enc_bitstream_h264_write_trailing_bits" ref="ga27cad07b23400082eb06eb05b756618c" args="(VAEncBitstream *bs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int va_enc_bitstream_h264_write_trailing_bits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3">VAEncBitstream</a> *&#160;</td>
          <td class="paramname"><em>bs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to write trailing bits into the bitstream. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bs</td><td>the bitstream writer </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bits written, or a negative value to indicate an error </dd></dl>

</div>
</div>
<a class="anchor" id="gaa62d028da2ab45d01d4c593762eed674"></a><!-- doxytag: member="va_enc_h264.h::va_enc_bitstream_h264_write_ue" ref="gaa62d028da2ab45d01d4c593762eed674" args="(VAEncBitstream *bs, unsigned int value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int va_enc_bitstream_h264_write_ue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__api__enc__core.html#ga57f29dc7cafddbb8fed4d6f59940f6a3">VAEncBitstream</a> *&#160;</td>
          <td class="paramname"><em>bs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes an unsigned integer as <code>ue(v)</code>. </p>
<p>Writes a 32-bit unsigned int value by following <code>ue(v)</code> from the H.264 specification.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bs</td><td>the bitstream writer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>the unsigned int value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bits written, or a negative value to indicate an error </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>
Generated for VA-API by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3</small></address>
</body>
</html>
